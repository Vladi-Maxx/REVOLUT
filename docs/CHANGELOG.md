# Changelog

## Версия 2.1.0 (19 март 2025)

### Основни подобрения
- **Почистен код на FilterManager** - премахнати излишни debug съобщения за по-чиста конзола и по-добра производителност
- **Подобрена реактивност на UI** - всички компоненти се обновяват автоматично при промяна на филтрите
- **Оптимизирана комуникация между компонентите** - използване на callback функции за по-добра модулност

### Технически детайли

#### 1. Премахване на излишни debug съобщения
- Премахнати debug съобщения от метода `getUniqueTransactionTypes` в `dataUtils.js`
- Премахнати debug съобщения от методите `initFilters` и `applyFilters` в `FilterManager`
- Премахнати debug съобщения от метода `populateFilters` в `FilterManager`
- Премахнати debug съобщения от методите `setDateRange` и `setDateRangeLastWeek` в `FilterManager`

#### 2. Подобрена реактивност на UI
- Добавена автоматична актуализация на графиката при промяна на типа транзакция
- Добавена автоматична актуализация на summary панелите при промяна на филтрите
- Добавена автоматична актуализация на таблицата с търговци при промяна на филтрите

#### 3. Подобрена архитектура
- Добавен callback механизъм в `FilterManager` за известяване на `DashboardView` при промяна на филтрите
- Оптимизиран метод `applyFilters` в `FilterManager` за извикване на callback функцията `onFilterSuccess`
- Модифициран метод `onFilterSuccess` в `DashboardView` за обновяване на всички компоненти без рекурсивни извиквания

### Засегнати файлове
- `/src/utils/dataUtils.js`
- `/src/utils/filterManager.js`
- `/src/views/dashboardView.js`

## Версия 2.0.0 (предишна версия)

### Основни подобрения
- **Рефакториране на CSV импорта** - преместване на функционалността в отделен клас `CsvImporter`
- **Подобрена обработка на данни** - оптимизирана обработка на дати и имена на търговци
- **Модулна архитектура** - прилагане на принципа за единична отговорност (SRP)

### Технически детайли

#### 1. Рефакториране на CSV импорта
- Създаден нов файл `src/utils/csvImporter.js` с клас `CsvImporter`
- Преместени методи `importCsvFile`, `findUniqueTransactions`, `createTransactionKey` и `normalizeDate` от `DashboardView` в `CsvImporter`
- Интегриран `CsvImporter` в `DashboardView` чрез инжектиране на зависимости

#### 2. Подобрения в UI
- Коригирани слушатели на събития за импорт, включително поправка на проблема с повторния избор на същия файл
- Добавен новия скрипт в `index.html`

#### 3. Други подобрения
- Запазени промени в git репозиторито
- Подобрена модулност и поддръжка на кода

### Засегнати файлове
- `/src/utils/csvImporter.js` (нов файл)
- `/src/views/dashboardView.js`
- `/public/index.html`
