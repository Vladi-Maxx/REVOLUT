# Финансово Табло Revolut



## Въведение

Бъгаво лично :) 
Финансово Табло Revolut е уеб приложение, което позволява на потребителите да визуализират, анализират и категоризират своите финансови транзакции от Revolut. Приложението предоставя интуитивен интерфейс за филтриране, групиране и анализ на транзакции, което помага за по-добро финансово планиране и проследяване на разходи.

## Функционалности

- **Филтриране на транзакции**
  - По период (дата)
  - По валута
  - По тип транзакция
  - По търговец
  - По категория

- **Визуализация на данни**
  - Графики на разходи по търговци
  - Графики на разходи по категории
  - Обобщени суми и статистики

- **Категоризация**
  - Създаване и управление на категории
  - Асоцииране на търговци с категории
  - Анализ на разходи по категории

- **Управление на данни**
  - Импортиране на CSV файлове с транзакции от Revolut
  - Изтриване на транзакции
  - Автоматично разпознаване и предотвратяване на дублирани транзакции

## Инсталация и стартиране

### Предварителни изисквания
- Уеб браузър (Chrome, Firefox, Safari)
- Интернет връзка за достъп до Supabase
- Node.js (опционално, за локален сървър)

### Настройка
1. Клонирайте репозиторито:
   ```bash
   git clone https://github.com/your-username/revolut-dashboard.git
   cd revolut-dashboard
   ```

2. Създайте `src/config.js` файл с вашите Supabase данни:
   ```javascript
   const config = {
       supabaseUrl: 'YOUR_SUPABASE_URL',
       supabaseKey: 'YOUR_SUPABASE_KEY'
   };

   export default config;
   ```

3. Стартирайте локален сървър:

   **Опция 1**: Използвайте включения скрипт:
   ```bash
   ./start-server.sh
   ```

   **Опция 2**: Използвайте Python HTTP сървър:
   ```bash
   # Python 3
   python -m http.server 8000

   # Python 2
   python -m SimpleHTTPServer 8000
   ```

   **Опция 3**: Използвайте Node.js сървър:
   ```bash
   # Инсталирайте http-server глобално
   npm install -g http-server

   # Стартирайте сървъра
   http-server
   ```

4. Отворете приложението в браузъра:
   ```
   http://localhost:8000/public/index.html
   ```

## Структура на проекта

```
/
├── public/               # Публични файлове
│   ├── index.html        # Основен HTML файл
│   ├── styles.css        # Основни CSS стилове
│   └── modern-styles.css # Модернизирани CSS стилове
├── src/                  # Изходен код
│   ├── app.js            # Входна точка на приложението
│   ├── components/       # UI компоненти
│   │   ├── categoriesComponent.js      # Управление на категории
│   │   ├── categoryChartComponent.js   # Графика за категории
│   │   ├── chartComponent.js           # Основен компонент за графики
│   │   ├── merchantsTableComponent.js  # Таблица с търговци
│   │   ├── summaryComponent.js         # Обобщен панел
│   │   └── transactionsTableComponent.js # Таблица с транзакции
│   ├── services/         # Достъп до данни
│   │   └── supabaseService.js          # Комуникация със Supabase
│   ├── utils/            # Помощни класове
│   │   ├── csvImporter.js              # Импортиране на CSV
│   │   ├── csvUtils.js                 # Функции за обработка на CSV
│   │   ├── dataUtils.js                # Манипулация на данни
│   │   ├── dateUtils.js                # Работа с дати
│   │   ├── filterManager.js            # Управление на филтри
│   │   ├── merchantSelectionManager.js # Избор на търговци
│   │   ├── quickFilterManager.js       # Бързи филтри
│   │   └── tabsManager.js              # Управление на табове
│   └── views/            # Основни изгледи
│       ├── categoriesView.js           # Изглед за категории
│       └── dashboardView.js            # Основен изглед
├── db/                   # SQL скриптове
│   └── create_categories_tables.sql    # Създаване на таблици
├── docs/                 # Документация
├── ARCHITECTURE.md       # Архитектура на приложението
├── CHANGELOG.md          # История на промените
├── CODE_GUIDE.md         # Ръководство за писане на код
└── README.md             # Този файл
```

## Технологичен стек

- **Frontend**: 
  - Vanilla JavaScript (ES6+)
  - HTML5
  - CSS3
  - Chart.js (визуализация на данни)

- **Backend**:
  - Supabase (PostgreSQL, RESTful API)

- **Допълнителни технологии**:
  - FontAwesome (икони)
  - Модерни CSS техники (flexbox, grid)
  - Responsive design

## База данни

### Основни таблици

- **transactions**: Съхранява данни за всички транзакции
  - `id` (PK)
  - `Type` - тип на транзакцията
  - `Product` - използван продукт
  - `Started Date` - начална дата
  - `Completed Date` - крайна дата
  - `Description` - описание/име на търговец
  - `Amount` - сума на транзакцията
  - `Currency` - валута
  - `State` - състояние

- **categories**: Съхранява категории за класификация
  - `id` (PK)
  - `name` - име на категорията
  - `description` - описание
  - `color` - цвят за визуализация

- **merchant_categories**: Връзка между търговци и категории
  - `id` (PK)
  - `merchant_name` - име на търговеца
  - `category_id` (FK) - референция към категория

## Последни промени

### Версия 3.0.0 (25 март 2025)
- **Множествен избор на търговци**
  - Добавена възможност за избор на няколко търговеца едновременно за подробен анализ
  - Визуални индикатори за избраните търговци
  - Моментално обновяване на статистики и графики според избраните търговци
  - Подобрено филтриране с комбиниране на различни типове филтри

- **Подобрена категоризация**
  - Нова визуализация на разходите по категории с интерактивна кръгова графика
  - Възможност за избор на категория директно от графиката
  - Автоматично откриване на некатегоризирани транзакции
  - Допълнителни опции за управление на категории

- **Оптимизирана структура на кода**
  - Преработена архитектура с ясно разделение на отговорностите
  - Подобрена комуникация между компонентите чрез callback функции
  - Модулна структура за по-лесна поддръжка и разширяемост
  - Рефакториране на класовете за по-добро управление на данните

- **Разширени бързи филтри**
  - Добавени удобни бутони за бързо филтриране по период
  - Възможност за филтриране по последна седмица, текущ месец, предишен месец и текуща година
  - Интуитивен интерфейс с визуално отличаване на активния филтър

- **Подобрени графики и визуализации**
  - Оптимизирани графики с по-добра визуализация на данните
  - Интерактивни елементи за по-детайлно проучване на разходите
  - Подобрена цветова схема и четимост
  - Възможност за бързо превключване между различни изгледи

- **Разширена обработка на данни**
  - Подобрена поддръжка за различни формати на CSV файлове от Revolut
  - По-интелигентно разпознаване на търговци и категоризация
  - Усъвършенстван алгоритъм за откриване на дубликати
  - Оптимизирана производителност при големи масиви от данни

- **Потребителски интерфейс**
  - Модернизиран дизайн с подобрена визуална йерархия
  - Адаптивен изглед за различни размери екрани
  - Визуални индикатори за активните филтри
  - Подобрена достъпност и потребителско изживяване

### Версия 2.1.0 (19 март 2022)
- Премахнати излишни debug съобщения за по-чиста конзола
- Подобрена реактивност на UI при промяна на филтрите
- Оптимизирана комуникация между компонентите чрез callback функции

### Версия 2.0.0 (15 януари 2022)
- Рефакториране на CSV импорта в отделен клас
- Подобрена обработка на дати и имена на търговци
- Приложен принцип за единична отговорност (SRP)

## Отстранени проблеми във версия 3.0.0
- Фиксирани бутони за бързо филтриране, които не функционираха поради липсваща инициализация на компонента
- Решен проблем със статистиките и детайлната таблица при избор на търговци, сега се показват само транзакциите на избраните търговци
- Коригирано филтрирането по категории, което не винаги показваше точните данни
- Отстранен проблем с неточно изчисляване на статистиките при комбиниране на различни типове филтри
- Подобрена коректна визуализация на активните филтри в интерфейса
- Фиксирани проблеми с импортирането на дублирани транзакции от CSV файлове
- Отстранени грешки при филтриране по период и дати
- Подобрена обработка на транзакции с нестандартни формати на датите и сумите

## Известни проблеми и ограничения
- При голям обем данни може да има забавяне при филтрирането
- Някои браузъри може да имат проблеми с CSV импорта поради ограничения в сигурността
- Приложението разчита на Supabase за съхранение на данни, което изисква интернет връзка

## Бъдещо развитие
- Интеграция с Revolut API за автоматично извличане на транзакции
- Напреднали аналитични функции с прогнозиране на разходи
- Персонализирани отчети и експорт в различни формати (PDF, Excel)
- Предупреждения и уведомления за необичайни разходи
- Многоезична поддръжка с различни валутни формати
- Мобилно приложение с офлайн достъп до данните
- Сравнителен анализ на разходите по месеци и години
- Интеграция с други финансови услуги и инструменти
- Възможност за задаване на бюджетни цели и проследяване на прогреса

## Лиценз
