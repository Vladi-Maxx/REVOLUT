# Обобщение на проекта Финансово Табло

## Основна информация

**Име на проекта:** Финансово Табло (Financial Dashboard)  
**Текуща версия:** 1.0  
**Статус:** В разработка  
**Дата на последна актуализация:** 16 Март 2025

## Цел на проекта

Създаване на финансово табло за визуализация и анализ на транзакции от Revolut.

## Архитектура и структура

### Технологичен стек
- **Frontend:** Vanilla JavaScript, HTML5, CSS3
- **Backend:** Supabase (PostgreSQL, RESTful API)
- **Управление на версиите:** Git

### Основни файлове и компоненти
- `dashboardView.js` - Основен контролер за изгледа на таблото
- `supabaseService.js` - Сервиз за комуникация със Supabase
- `index.html` - Основен HTML файл
- `styles.css` - Стилове на приложението

## Ключови функционалности

1. **Филтриране на транзакции**
   - По дата (Started Date, Completed Date)
   - По валута
   - По тип транзакция

2. **Визуализация на данни**
   - Обобщени суми по валути
   - Таблица с транзакции
   - Таблица с търговци

3. **UI компоненти**
   - Филтри с календар за избор на дати в български формат (дд.мм.гггг)
   - Таблици с пагинация
   - Графики с Chart.js

## Решени проблеми

1. **Филтриране по дата**
   - Коригирано име на полето от 'Start Date' към правилното 'Started Date'
   - Имплементирано преобразуване между различни формати на дати

2. **UI/UX подобрения**
   - Създадено комбинирано решение за избор на дати (календар + български формат)
   - Синхронизация между HTML5 date input и текстово поле

3. **Оптимизация на кода**
   - Подобрена структура
   - Добавени коментари
   - Имплементирани помощни функции

## База данни

Основни таблици:
- `transactions` - Съдържа всички транзакции
- `merchants` - Съдържа информация за търговци

Ключови полета в `transactions`:
- `id`
- `amount`
- `currency`
- `Started Date`
- `Completed Date`
- `merchant_id`
- `type`

## Текущи ограничения и известни проблеми

1. **Кеширане на браузъра**
   - Понякога се налага ръчно изчистване на кеша

2. **Възможни проблеми с часови зони**
   - При работа с дати и преобразуване между формати

## Инструкции за локално стартиране

### Стартиране на локален сървър

1. **Налични скриптове:**
   - `no-cache-server.sh` - Стартира Python HTTP сървър без кеширане
   - `start-server.sh` - Стартира стандартен Python HTTP сървър

2. **Правилен начин за стартиране:**
   ```bash
   # Отидете в основната директория на проекта
   cd /Users/vladi/Documents/REVOLUT
   
   # Стартирайте сървъра (един от двата варианта)
   python3 -m http.server 8000
   # или
   ./no-cache-server.sh
   ```

3. **Достъп до приложението:**
   - Приложението е достъпно на адрес: `http://localhost:8000/public/index.html`
   - **Важно**: Основният HTML файл се намира в директорията `/public`, но JavaScript файловете се търсят спрямо основната директория на проекта

4. **Отстраняване на проблеми:**
   - Ако портът е зает: `lsof -i :8000` (за идентифициране на процеса)
   - Спиране на съществуващ сървър: `kill -9 [PID]`
   - При проблеми с кеширането използвайте `no-cache-server.sh`

### Структура на директориите

```
/
├── public/           # Публични файлове
│   ├── index.html    # Основен HTML файл
│   └── styles.css    # CSS стилове
├── src/              # Изходен код
│   ├── app.js        # Входна точка на приложението
│   ├── components/   # UI компоненти
│   ├── services/     # Сервизни класове (напр. supabaseService.js)
│   ├── utils/        # Помощни функции
│   └── views/        # Контролери за различните изгледи
└── no-cache-server.sh # Скрипт за стартиране на сървър без кеширане
```

## Следващи стъпки и идеи за развитие

1. **Подобряване на отчетите**
   - Добавяне на повече визуализации
   - Експорт на данни

2. **Оптимизация на заявките**
   - Преработване на логиката за филтриране
   - Подобрена пагинация

3. **Разширяване на функционалностите**
   - Добавяне на категоризация на транзакциите
   - Интеграция с други API-та
